(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{134:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(147);var n=r(8),o=r(159),i=r(147);!function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(175)),e.default=n.autoBind((function(t){t(i.RPC).toDynamicValue((function(t){var e=t.currentRequest.target.getNamedTag().value.toString();return t.container.get(o.ProxyProvider).provide(e)}))}))},139:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PathResolver=Symbol("PathResolver")},140:function(t,e,r){var n,o,i;i=function(){function normalize(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var r=t.shift();t[0]=r+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<t.length;n++){var o=t[n];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(n>0&&(o=o.replace(/^[\/]+/,"")),o=n<t.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),e.push(o))}var i=e.join("/"),a=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return i=a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return normalize("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=i():void 0===(o="function"==typeof(n=i)?n.call(e,r,e,t):n)||(t.exports=o)},143:function(t,e,r){"use strict";function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),__export(r(144)),__export(r(146))},144:function(t,e,r){"use strict";function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),__export(r(139)),__export(r(145))},145:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n.throw(t))}catch(t){i(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var u=r(139),p=r(8),l=r(140),f=function(){function PathResolverImpl(){}return PathResolverImpl.prototype.resolve=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,l.apply(void 0,c([this.serverPath],t))]}))}))},n([p.Value("malagu.server.path"),o("design:type",String)],PathResolverImpl.prototype,"serverPath",void 0),PathResolverImpl=n([p.Component(u.PathResolver)],PathResolverImpl)}();e.PathResolverImpl=f},146:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ENDPOINT="malagu.server.endpoint",e.SERVER_PATH="malagu.server.path"},147:function(t,e,r){"use strict";function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),__export(r(166)),__export(r(155)),__export(r(172))},148:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8),o=r(2);e.RPC=Symbol("RPC"),e.Autorpc=function(t,r,i){var a=n.getAutowiredOption(t,r,i),doInject=function(t,r,n,i,a){o.inject(e.RPC)(n,i,a),o.named(t.toString())(n,i,a)};if(void 0===r)return function(t,e,r){n.applyAutowiredDecorator(a,t,e,r,doInject)};n.applyAutowiredDecorator(a,t,r,i,doInject)}},149:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyProvider=Symbol("ProxyProvider"),e.ProxyCreator=Symbol("ProxyCreator")},155:function(t,e,r){"use strict";function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),__export(r(168)),__export(r(169)),__export(r(170)),__export(r(171)),__export(r(157)),__export(r(158)),__export(r(156))},156:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(46),o=r(8),i=function(){function AbstractChannel(t,e){this.id=t,this.doSend=e,this.toDispose=new o.DisposableCollection,this.fireMessage=function(){},this.fireError=function(){}}return AbstractChannel.prototype.dispose=function(){this.toDispose.dispose()},AbstractChannel.prototype.checkNotDisposed=function(){if(this.toDispose.disposed)throw new Error("The channel has been disposed.")},AbstractChannel.prototype.send=function(t){this.checkNotDisposed(),this.doSend(JSON.stringify(this.doGetMessage(t)))},AbstractChannel.prototype.onMessage=function(t){var e=this;this.checkNotDisposed(),this.fireMessage=t,this.toDispose.push(n.Disposable.create((function(){return e.fireMessage=function(){}})))},AbstractChannel.prototype.onError=function(t){var e=this;this.checkNotDisposed(),this.fireError=t,this.toDispose.push(n.Disposable.create((function(){return e.fireError=function(){}})))},AbstractChannel}();e.AbstractChannel=i},157:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(9),a=function(){function AbstractMessageReader(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}return AbstractMessageReader.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(AbstractMessageReader.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageReader.prototype.fireError=function(t){this.errorEmitter.fire(this.asError(t))},Object.defineProperty(AbstractMessageReader.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageReader.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},Object.defineProperty(AbstractMessageReader.prototype,"onPartialMessage",{get:function(){return this.partialMessageEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageReader.prototype.firePartialMessage=function(t){this.partialMessageEmitter.fire(t)},AbstractMessageReader.prototype.asError=function(t){return t instanceof Error?t:new Error("Reader received error. Reason: "+("string"==typeof t.message?t.message:"unknown"))},AbstractMessageReader}();e.AbstractMessageReader=a;var s=function(t){function ChannelMessageReader(e){var r=t.call(this)||this;return r.channel=e,r.state="initial",r.events=[],r.channel.onMessage((function(t){return r.readMessage(t)})),r}return o(ChannelMessageReader,t),ChannelMessageReader.prototype.listen=function(t){if("initial"===this.state)for(this.state="listening",this.callback=t;0!==this.events.length;){var e=this.events.pop();e.message?this.readMessage(e.message):e.error&&this.fireError(e.error)}},ChannelMessageReader.prototype.readMessage=function(t){if("initial"===this.state)this.events.splice(0,0,{message:t});else if("listening"===this.state){var e=JSON.parse(t);this.callback(e)}},ChannelMessageReader.prototype.fireError=function(e){"initial"===this.state?this.events.splice(0,0,{error:e}):"listening"===this.state&&t.prototype.fireError.call(this,e)},ChannelMessageReader}(a);e.ChannelMessageReader=s},158:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(9),a=function(){function AbstractMessageWriter(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}return AbstractMessageWriter.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(AbstractMessageWriter.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageWriter.prototype.fireError=function(t,e,r){this.errorEmitter.fire([this.asError(t),e,r])},Object.defineProperty(AbstractMessageWriter.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageWriter.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},AbstractMessageWriter.prototype.asError=function(t){return t instanceof Error?t:new Error("Writer received error. Reason: "+("string"==typeof t.message?t.message:"unknown"))},AbstractMessageWriter}();e.AbstractMessageWriter=a;var s=function(t){function ChannelMessageWriter(e){var r=t.call(this)||this;return r.channel=e,r.errorCount=0,r}return o(ChannelMessageWriter,t),ChannelMessageWriter.prototype.write=function(t){try{var e=JSON.stringify(t);this.channel.send(e)}catch(e){this.errorCount++,this.fireError(e,t,this.errorCount)}},ChannelMessageWriter}(a);e.ChannelMessageWriter=s},159:function(t,e,r){"use strict";function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),__export(r(173)),__export(r(149)),__export(r(174))},166:function(t,e,r){"use strict";function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),__export(r(167)),__export(r(148))},167:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(48),o=r(155),i=r(8);e.Rpc=function(t){return function(e){i.applyComponentDecorator({id:t,proxy:!0},e),n.fluentProvide(o.ConnectionHandler).inSingletonScope().onActivation((function(e){var r=e.container.get(t);return new o.JsonRpcConnectionHandler(t.toString(),(function(){return r}))})).done(!0)(o.NoOpConnectionHandler)}}},168:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionHandler=Symbol("ConnectionHandler");var n=function(){function NoOpConnectionHandler(){}return NoOpConnectionHandler.prototype.onConnection=function(t){},NoOpConnectionHandler}();e.NoOpConnectionHandler=n},169:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n.throw(t))}catch(t){i(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=r(46),c=r(8),u=function(){function JsonRpcConnectionHandler(t,e){this.path=t,this.targetFactory=e}return JsonRpcConnectionHandler.prototype.onConnection=function(t){var e=new p(this.path),r=e.createProxy();e.target=this.targetFactory(r),e.listen(t)},JsonRpcConnectionHandler}();e.JsonRpcConnectionHandler=u;var p=function(){function JsonRpcProxyFactory(t){this.target=t,this.onDidOpenConnectionEmitter=new s.Emitter,this.onDidCloseConnectionEmitter=new s.Emitter,this.waitForConnection()}return JsonRpcProxyFactory.prototype.waitForConnection=function(){var t=this;this.connectionPromise=new Promise((function(e){return t.connectionPromiseResolve=e})),this.connectionPromise.then((function(e){e.onClose((function(){return t.onDidCloseConnectionEmitter.fire(void 0)})),t.onDidOpenConnectionEmitter.fire(void 0)}))},JsonRpcProxyFactory.prototype.registerMethods=function(t){var e=this;if(this.target){var _loop_1=function(n){"function"==typeof r.target[n]&&(t.onRequest(n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.onRequest.apply(e,a([n],t))})),t.onNotification(n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.onNotification.apply(e,a([n],t))})))},r=this;for(var n in this.target)_loop_1(n)}},JsonRpcProxyFactory.prototype.listen=function(t){var e=this;this.registerMethods(t),t.onDispose((function(){return e.waitForConnection()})),t.listen(),this.connectionPromiseResolve(t)},JsonRpcProxyFactory.prototype.onRequest=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return n(this,void 0,void 0,(function(){var r,n,i,c,u;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(u=this.target)[t].apply(u,a(e))];case 1:return[2,o.sent()];case 2:if(r=o.sent(),(n=this.serializeError(r))instanceof s.ResponseError)throw n;throw i=n.message||"",c=n.stack||"",console.error("Request "+t+" failed with error: "+i,c),n;case 3:return[2]}}))}))},JsonRpcProxyFactory.prototype.onNotification=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(e=this.target)[t].apply(e,a(r))},JsonRpcProxyFactory.prototype.createProxy=function(){return new Proxy(this,this)},JsonRpcProxyFactory.prototype.get=function(t,e,r){var n=this.getInternalMethod(e.toString());return n||this.createProxyMethod(e.toString())},JsonRpcProxyFactory.prototype.getInternalMethod=function(t){var e=this;return t===JsonRpcProxyFactory.SET_CLIENT?function(t){return e.target=t}:t===JsonRpcProxyFactory.ON_DID_OPEN_CONNECTION?this.onDidOpenConnectionEmitter.event:t===JsonRpcProxyFactory.ON_DID_CLOSE_CONNECTION?this.onDidCloseConnectionEmitter.event:void 0},JsonRpcProxyFactory.prototype.createProxyMethod=function(t){var e=this,r=this.isNotification(t);return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n(e,void 0,void 0,(function(){var e,n,s;return o(this,(function(o){switch(o.label){case 0:return e=new Error("Request '"+t+"' failed"),[4,this.connectionPromise];case 1:return n=o.sent(),r?(n.sendNotification.apply(n,a([t],i)),[3,5]):[3,2];case 2:return o.trys.push([2,4,,5]),[4,n.sendRequest.apply(n,a([t],i))];case 3:return[2,o.sent()];case 4:throw s=o.sent(),this.deserializeError(e,s);case 5:return[2]}}))}))}},JsonRpcProxyFactory.prototype.isNotification=function(t){return t.toString().startsWith("notify")||t.toString().startsWith("on")},JsonRpcProxyFactory.prototype.serializeError=function(t){return c.ApplicationError.is(t)?new s.ResponseError(t.code,"",Object.assign({kind:"application"},t.toJson())):t},JsonRpcProxyFactory.prototype.deserializeError=function(t,e){if(e instanceof s.ResponseError){var r=t.stack||"";if(e.data&&"application"===e.data.kind){var n=e.data,o=n.stack,i=n.data,a=n.message;return c.ApplicationError.fromJson(e.code,{message:a||t.message,data:i,stack:r+"\nCaused by: "+o})}e.stack=r}return e},JsonRpcProxyFactory.SET_CLIENT="setClient",JsonRpcProxyFactory.ON_DID_OPEN_CONNECTION="onDidOpenConnection",JsonRpcProxyFactory.ON_DID_CLOSE_CONNECTION="onDidCloseConnection",JsonRpcProxyFactory}();e.JsonRpcProxyFactory=p},170:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function HttpChannel(e,r,n){var o=t.call(this,e,r)||this;return o.path=n,o}return o(HttpChannel,t),HttpChannel.prototype.checkNotDisposed=function(){},HttpChannel.prototype.handleMessage=function(t){this.fireMessage(t.content)},HttpChannel.prototype.doGetMessage=function(t){return{kind:"http",id:this.id,path:this.path,content:t}},HttpChannel}(r(156).AbstractChannel);e.HttpChannel=i},171:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=r(46),i=r(157),a=r(158),s=r(8);e.ConnnectionFactory=Symbol("ConnnectionFactory");var c=function(){function ConnnectionFactoryImpl(){}return ConnnectionFactoryImpl.prototype.create=function(t,e){var r=new i.ChannelMessageReader(t),n=new a.ChannelMessageWriter(t),s=o.createMessageConnection(r,n,e);return s.onClose((function(){return s.dispose()})),s},ConnnectionFactoryImpl=n([s.Component(e.ConnnectionFactory)],ConnnectionFactoryImpl)}();e.ConnnectionFactoryImpl=c},172:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RPC_PATH="malagu.rpc.path"},173:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(8),s=r(149),c=function(){function ProxyProviderImpl(t){this.proxyCreators=t}return ProxyProviderImpl.prototype.provide=function(t,e){return this.prioritize(t)[0].create(t,e)},ProxyProviderImpl.prototype.prioritize=function(t){return a.Prioritizeable.prioritizeAllSync(this.proxyCreators,(function(e){try{return e.support(t)}catch(t){return 0}})).map((function(t){return t.value}))},ProxyProviderImpl=n([a.Component(s.ProxyProvider),i(0,a.Autowired(s.ProxyCreator)),o("design:paramtypes",[Array])],ProxyProviderImpl)}();e.ProxyProviderImpl=c},174:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n.throw(t))}catch(t){i(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(8),c=r(147),u=r(143),p=r(149),l=r(140),f=function(){function HttpProxyCreator(){this.channelIdSeq=0,this.channels=new Map}return HttpProxyCreator.prototype.create=function(t,e){var r=new c.JsonRpcProxyFactory(e);return this.listen({path:t,onConnection:function(t){return r.listen(t)}}),r.createProxy()},HttpProxyCreator.prototype.support=function(t){return this.endpoint&&this.endpoint.startsWith("http")?500:0},HttpProxyCreator.prototype.listen=function(t,e){var r=this;this.openChannel(t.path,(function(e){var n=r.connnectionFactory.create(e,r.createLogger());t.onConnection(n)}),e)},HttpProxyCreator.prototype.openChannel=function(t,e,r){this.doOpenChannel(t,e,r)},HttpProxyCreator.prototype.doOpenChannel=function(t,e,r){var n=this.channelIdSeq++,o=this.createChannel(n,t);this.channels.set(n,o),e(o)},HttpProxyCreator.prototype.createChannel=function(t,e){var r=this,n=new c.HttpChannel(t,(function(t){return i(r,void 0,void 0,(function(){var e,r,o,i,s,c;return a(this,(function(a){switch(a.label){case 0:return r=fetch,o=l,i=[this.endpoint],[4,this.pathResolver.resolve(this.rpcPath)];case 1:return[4,r.apply(void 0,[o.apply(void 0,i.concat([a.sent()])),{method:"POST",body:t,headers:new Headers({"Content-Type":"application/json"})}])];case 2:return e=a.sent(),c=(s=n).handleMessage,[4,e.json()];case 3:return c.apply(s,[a.sent()]),[2]}}))}))}),e);return n},HttpProxyCreator.prototype.createLogger=function(){return new s.ConsoleLogger},n([s.Autowired(c.ConnnectionFactory),o("design:type",Object)],HttpProxyCreator.prototype,"connnectionFactory",void 0),n([s.Autowired(u.PathResolver),o("design:type",Object)],HttpProxyCreator.prototype,"pathResolver",void 0),n([s.Value(u.ENDPOINT),o("design:type",String)],HttpProxyCreator.prototype,"endpoint",void 0),n([s.Value(c.RPC_PATH),o("design:type",String)],HttpProxyCreator.prototype,"rpcPath",void 0),HttpProxyCreator=n([s.Component(p.ProxyCreator)],HttpProxyCreator)}();e.HttpProxyCreator=f},175:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(159))}}]);