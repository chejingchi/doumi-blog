(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{254:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(459);var n=r(13),o=r(583),i=r(459);!function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(678)),t.default=n.autoBind((function(e){e(i.RPC).toDynamicValue((function(e){var t=e.currentRequest.target.getNamedTag().value.toString();return e.container.get(o.ProxyProvider).provide(t)}))}))},304:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathResolver=Symbol("PathResolver")},316:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r(351)),__export(r(353))},328:function(e,t,r){var n,o,i;i=function(){function normalize(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(n>0&&(o=o.replace(/^[\/]+/,"")),o=n<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/"),a=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return i=a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return normalize("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=i():void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o)},351:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r(304)),__export(r(352))},352:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=r(304),p=r(13),l=r(328),f=function(){function PathResolverImpl(){}return PathResolverImpl.prototype.resolve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,l.apply(void 0,c([this.serverPath],e))]}))}))},n([p.Value("malagu.server.path"),o("design:type",String)],PathResolverImpl.prototype,"serverPath",void 0),PathResolverImpl=n([p.Component(u.PathResolver)],PathResolverImpl)}();t.PathResolverImpl=f},353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENDPOINT="malagu.server.endpoint",t.SERVER_PATH="malagu.server.path",t.CORS="malagu.web.cors"},459:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r(669)),__export(r(579)),__export(r(675))},460:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),o=r(3);t.RPC=Symbol("RPC"),t.Autorpc=function(e,r,i){var a=n.getAutowiredOption(e,r,i),doInject=function(e,r,n,i,a){o.inject(t.RPC)(n,i,a),o.named(e.toString())(n,i,a)};if(void 0===r)return function(e,t,r){n.applyAutowiredDecorator(a,e,t,r,doInject)};n.applyAutowiredDecorator(a,e,r,i,doInject)}},461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyProvider=Symbol("ProxyProvider"),t.ProxyCreator=Symbol("ProxyCreator")},579:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r(671)),__export(r(672)),__export(r(673)),__export(r(674)),__export(r(581)),__export(r(582)),__export(r(580))},580:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(77),o=r(13),i=function(){function AbstractChannel(e,t){this.id=e,this.doSend=t,this.toDispose=new o.DisposableCollection,this.fireMessage=function(){},this.fireError=function(){}}return AbstractChannel.prototype.dispose=function(){this.toDispose.dispose()},AbstractChannel.prototype.checkNotDisposed=function(){if(this.toDispose.disposed)throw new Error("The channel has been disposed.")},AbstractChannel.prototype.send=function(e){this.checkNotDisposed(),this.doSend(JSON.stringify(this.doGetMessage(e)))},AbstractChannel.prototype.onMessage=function(e){var t=this;this.checkNotDisposed(),this.fireMessage=e,this.toDispose.push(n.Disposable.create((function(){return t.fireMessage=function(){}})))},AbstractChannel.prototype.onError=function(e){var t=this;this.checkNotDisposed(),this.fireError=e,this.toDispose.push(n.Disposable.create((function(){return t.fireError=function(){}})))},AbstractChannel}();t.AbstractChannel=i},581:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(15),a=function(){function AbstractMessageReader(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}return AbstractMessageReader.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(AbstractMessageReader.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageReader.prototype.fireError=function(e){this.errorEmitter.fire(this.asError(e))},Object.defineProperty(AbstractMessageReader.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageReader.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},Object.defineProperty(AbstractMessageReader.prototype,"onPartialMessage",{get:function(){return this.partialMessageEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageReader.prototype.firePartialMessage=function(e){this.partialMessageEmitter.fire(e)},AbstractMessageReader.prototype.asError=function(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+("string"==typeof e.message?e.message:"unknown"))},AbstractMessageReader}();t.AbstractMessageReader=a;var s=function(e){function ChannelMessageReader(t){var r=e.call(this)||this;return r.channel=t,r.state="initial",r.events=[],r.channel.onMessage((function(e){return r.readMessage(e)})),r}return o(ChannelMessageReader,e),ChannelMessageReader.prototype.listen=function(e){if("initial"===this.state)for(this.state="listening",this.callback=e;0!==this.events.length;){var t=this.events.pop();t.message?this.readMessage(t.message):t.error&&this.fireError(t.error)}},ChannelMessageReader.prototype.readMessage=function(e){if("initial"===this.state)this.events.splice(0,0,{message:e});else if("listening"===this.state){var t=JSON.parse(e);this.callback(t)}},ChannelMessageReader.prototype.fireError=function(t){"initial"===this.state?this.events.splice(0,0,{error:t}):"listening"===this.state&&e.prototype.fireError.call(this,t)},ChannelMessageReader}(a);t.ChannelMessageReader=s},582:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(15),a=function(){function AbstractMessageWriter(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}return AbstractMessageWriter.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(AbstractMessageWriter.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageWriter.prototype.fireError=function(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])},Object.defineProperty(AbstractMessageWriter.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),AbstractMessageWriter.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},AbstractMessageWriter.prototype.asError=function(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+("string"==typeof e.message?e.message:"unknown"))},AbstractMessageWriter}();t.AbstractMessageWriter=a;var s=function(e){function ChannelMessageWriter(t){var r=e.call(this)||this;return r.channel=t,r.errorCount=0,r}return o(ChannelMessageWriter,e),ChannelMessageWriter.prototype.write=function(e){try{var t=JSON.stringify(e);this.channel.send(t)}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}},ChannelMessageWriter}(a);t.ChannelMessageWriter=s},583:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r(676)),__export(r(461)),__export(r(677))},669:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r(670)),__export(r(460))},670:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(80),o=r(579),i=r(13),a=r(13);t.Rpc=function(e){return function(t){i.applyComponentDecorator({id:e,proxy:!0},t),n.fluentProvide(o.ConnectionHandler).inSingletonScope().onActivation((function(t){var r=t.container.get(e),n=t.container.get(a.PipeManager);return new o.JsonRpcConnectionHandler(e.toString(),(function(){return r}),n)})).done(!0)(o.NoOpConnectionHandler)}}},671:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionHandler=Symbol("ConnectionHandler");var n=function(){function NoOpConnectionHandler(){}return NoOpConnectionHandler.prototype.onConnection=function(e){},NoOpConnectionHandler}();t.NoOpConnectionHandler=n},672:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(77),c=r(13),u=function(){function JsonRpcConnectionHandler(e,t,r){this.path=e,this.targetFactory=t,this.pipeManager=r}return JsonRpcConnectionHandler.prototype.onConnection=function(e){var t=new p(void 0,this.pipeManager),r=t.createProxy();t.target=this.targetFactory(r),t.listen(e)},JsonRpcConnectionHandler}();t.JsonRpcConnectionHandler=u;var p=function(){function JsonRpcProxyFactory(e,t){this.target=e,this.pipeMananger=t,this.onDidOpenConnectionEmitter=new s.Emitter,this.onDidCloseConnectionEmitter=new s.Emitter,this.waitForConnection()}return JsonRpcProxyFactory.prototype.waitForConnection=function(){var e=this;this.connectionPromise=new Promise((function(t){return e.connectionPromiseResolve=t})),this.connectionPromise.then((function(t){t.onClose((function(){return e.onDidCloseConnectionEmitter.fire(void 0)})),e.onDidOpenConnectionEmitter.fire(void 0)}))},JsonRpcProxyFactory.prototype.registerMethods=function(e){var t=this;if(this.target){var _loop_1=function(n){"function"==typeof r.target[n]&&(e.onRequest(n,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.onRequest.apply(t,a([n],e))})),e.onNotification(n,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.onNotification.apply(t,a([n],e))})))},r=this;for(var n in this.target)_loop_1(n)}},JsonRpcProxyFactory.prototype.listen=function(e){var t=this;this.registerMethods(e),e.onDispose((function(){return t.waitForConnection()})),e.listen(),this.connectionPromiseResolve(e)},JsonRpcProxyFactory.prototype.onRequest=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n(this,void 0,void 0,(function(){var r,n,i,c,u;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),this.pipeMananger?[4,this.pipeMananger.apply({target:this.target,method:e},t)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[4,(u=this.target)[e].apply(u,a(t))];case 3:return[2,o.sent()];case 4:if(r=o.sent(),(n=this.serializeError(r))instanceof s.ResponseError)throw n;throw i=n.message||"",c=n.stack||"",console.error("Request "+e+" failed with error: "+i,c),n;case 5:return[2]}}))}))},JsonRpcProxyFactory.prototype.onNotification=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this.target)[e].apply(t,a(r))},JsonRpcProxyFactory.prototype.createProxy=function(){return new Proxy(this,this)},JsonRpcProxyFactory.prototype.get=function(e,t,r){var n=this.getInternalMethod(t.toString());return n||this.createProxyMethod(t.toString())},JsonRpcProxyFactory.prototype.getInternalMethod=function(e){var t=this;return e===JsonRpcProxyFactory.SET_CLIENT?function(e){return t.target=e}:e===JsonRpcProxyFactory.ON_DID_OPEN_CONNECTION?this.onDidOpenConnectionEmitter.event:e===JsonRpcProxyFactory.ON_DID_CLOSE_CONNECTION?this.onDidCloseConnectionEmitter.event:void 0},JsonRpcProxyFactory.prototype.createProxyMethod=function(e){var t=this,r=this.isNotification(e);return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n(t,void 0,void 0,(function(){var t,n,s;return o(this,(function(o){switch(o.label){case 0:return t=new Error("Request '"+e+"' failed"),[4,this.connectionPromise];case 1:return n=o.sent(),r?(n.sendNotification.apply(n,a([e],i)),[3,5]):[3,2];case 2:return o.trys.push([2,4,,5]),[4,n.sendRequest.apply(n,a([e],i))];case 3:return[2,o.sent()];case 4:throw s=o.sent(),this.deserializeError(t,s);case 5:return[2]}}))}))}},JsonRpcProxyFactory.prototype.isNotification=function(e){return e.toString().startsWith("notify")||e.toString().startsWith("on")},JsonRpcProxyFactory.prototype.serializeError=function(e){return c.ApplicationError.is(e)?new s.ResponseError(e.code,"",Object.assign({kind:"application"},e.toJson())):e},JsonRpcProxyFactory.prototype.deserializeError=function(e,t){if(t instanceof s.ResponseError){var r=e.stack||"";if(t.data&&"application"===t.data.kind){var n=t.data,o=n.stack,i=n.data,a=n.message;return c.ApplicationError.fromJson(t.code,{message:a||e.message,data:i,stack:r+"\nCaused by: "+o})}t.stack=r}return t},JsonRpcProxyFactory.SET_CLIENT="setClient",JsonRpcProxyFactory.ON_DID_OPEN_CONNECTION="onDidOpenConnection",JsonRpcProxyFactory.ON_DID_CLOSE_CONNECTION="onDidCloseConnection",JsonRpcProxyFactory}();t.JsonRpcProxyFactory=p},673:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function HttpChannel(t,r,n){var o=e.call(this,t,r)||this;return o.path=n,o}return o(HttpChannel,e),HttpChannel.prototype.checkNotDisposed=function(){},HttpChannel.prototype.handleMessage=function(e){this.fireMessage(e.content)},HttpChannel.prototype.doGetMessage=function(e){return{kind:"http",id:this.id,path:this.path,content:e}},HttpChannel}(r(580).AbstractChannel);t.HttpChannel=i},674:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(77),i=r(581),a=r(582),s=r(13);t.ConnnectionFactory=Symbol("ConnnectionFactory");var c=function(){function ConnnectionFactoryImpl(){}return ConnnectionFactoryImpl.prototype.create=function(e,t){var r=new i.ChannelMessageReader(e),n=new a.ChannelMessageWriter(e),s=o.createMessageConnection(r,n,t);return s.onClose((function(){return s.dispose()})),s},ConnnectionFactoryImpl=n([s.Component(t.ConnnectionFactory)],ConnnectionFactoryImpl)}();t.ConnnectionFactoryImpl=c},675:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RPC_PATH="malagu.rpc.path"},676:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(13),s=r(461),c=function(){function ProxyProviderImpl(e){this.proxyCreators=e}return ProxyProviderImpl.prototype.provide=function(e,t){return this.prioritize(e)[0].create(e,t)},ProxyProviderImpl.prototype.prioritize=function(e){return a.Prioritizeable.prioritizeAllSync(this.proxyCreators,(function(t){try{return t.support(e)}catch(e){return 0}})).map((function(e){return e.value}))},ProxyProviderImpl=n([a.Component(s.ProxyProvider),i(0,a.Autowired(s.ProxyCreator)),o("design:paramtypes",[Array])],ProxyProviderImpl)}();t.ProxyProviderImpl=c},677:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(13),c=r(459),u=r(316),p=r(461),l=r(328),f=function(){function HttpProxyCreator(){this.channelIdSeq=0,this.channels=new Map}return HttpProxyCreator.prototype.create=function(e,t){var r=new c.JsonRpcProxyFactory(t);return this.listen({path:e,onConnection:function(e){return r.listen(e)}}),r.createProxy()},HttpProxyCreator.prototype.support=function(e){return this.endpoint&&this.endpoint.startsWith("http")?500:0},HttpProxyCreator.prototype.listen=function(e,t){var r=this;this.openChannel(e.path,(function(t){var n=r.connnectionFactory.create(t,r.createLogger());e.onConnection(n)}),t)},HttpProxyCreator.prototype.openChannel=function(e,t,r){this.doOpenChannel(e,t,r)},HttpProxyCreator.prototype.doOpenChannel=function(e,t,r){var n=this.channelIdSeq++,o=this.createChannel(n,e);this.channels.set(n,o),t(o)},HttpProxyCreator.prototype.createChannel=function(e,t){var r=this,n=new c.HttpChannel(e,(function(e){return i(r,void 0,void 0,(function(){var t,r,o,i,s,c;return a(this,(function(a){switch(a.label){case 0:return r=fetch,o=l,i=[this.endpoint],console.log(">>>>>",this.endpoint),[4,this.pathResolver.resolve(this.rpcPath)];case 1:return[4,r.apply(void 0,[o.apply(void 0,i.concat([a.sent()])),{method:"POST",body:e,headers:new Headers({"Content-Type":"application/json"})}])];case 2:return t=a.sent(),c=(s=n).handleMessage,[4,t.json()];case 3:return c.apply(s,[a.sent()]),[2]}}))}))}),t);return n},HttpProxyCreator.prototype.createLogger=function(){return new s.ConsoleLogger},n([s.Autowired(c.ConnnectionFactory),o("design:type",Object)],HttpProxyCreator.prototype,"connnectionFactory",void 0),n([s.Autowired(u.PathResolver),o("design:type",Object)],HttpProxyCreator.prototype,"pathResolver",void 0),n([s.Value(u.ENDPOINT),o("design:type",String)],HttpProxyCreator.prototype,"endpoint",void 0),n([s.Value(c.RPC_PATH),o("design:type",String)],HttpProxyCreator.prototype,"rpcPath",void 0),HttpProxyCreator=n([s.Component(p.ProxyCreator)],HttpProxyCreator)}();t.HttpProxyCreator=f},678:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(583))}}]);